<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="text">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/logo.png">
    <!-- Page Title -->
    <title></title>
    <!-- CSS Files -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="animation.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body id="buy">
    <!-- This is the header/ Nav Bar -->
    <header id="header">
        <a href="index.html" class="logo">Mok's Farmers</a>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="MyGarden.html">MyGarden</a></li>
            <li><a href="Events.html">Events</a></li>
            <li><a href="Buy.html" class = "active">Buy</a></li>
        </ul>
    </header>
    
    <div class = "sec" id="sec">
        
            <h2>Buy Seeds</h2>
            <div style="z-index: 5;position:fixed; top: 12%;right:10%">
                <button style="margin-bottom: 0;" id="miniCartButton" class = "button" onmouseover="refreshCart()">Shopping Cart</button>
                <div id="miniCart" style = "right:0" class = "glass miniCart">
                    I am a minicart
                </div>
            </div>
            
            <div style = "margin-bottom: 5%;">Need Seeds? Buy from us and become a farmer today!</div>

            
        <div style = "overflow: auto;" class = "glass">
            <img class = "cropPhoto" src = "images/crops/tomato.webp">
            <div>
                <h3>Tomatoes</h3>
                <div>Low maintainence, easy to grow crop that requires moderate non-direct sunlight</div>
                <p>
                    Seeds per packet: 15 <br>
                    Price: $4.50  
                    <button v-on:click = addItem("Tomatoes") style = "float: right;" class = "button">Add to Cart</button>  
                </p>
                
            </div>

        </div>
        <div style = "overflow: auto;" class = "glass">
            <img class = "cropPhoto" src = "images/crops/tomato.webp">
            <div>
                <h3>Tomato</h3>
                <div>Low maintainence, easy to grow crop that requires moderate non-direct sunlight</div>
                <p>
                    Seeds per packet: 15 <br>
                    Price: $4.50    
                </p>
                <button  style = "float:right;" class = "button">Add to Cart</button>
            </div>

        </div>
        <div style = "overflow: auto;" class = "glass">
            <img class = "cropPhoto" src = "images/crops/tomato.webp">
            <div>
                <h3>Tomato</h3>
                <div>Low maintainence, easy to grow crop that requires moderate non-direct sunlight</div>
                <p>
                    Seeds per packet: 15 <br>
                    Price: $4.50    
                </p>
                <button style = "float:right;" class = "button">Add to Cart</button>
            </div>

        </div>
        <div style = "overflow: auto;" class = "glass">
            <img class = "cropPhoto" src = "images/crops/tomato.webp">
            <div>
                <h3>Tomato</h3>
                <div>Low maintainence, easy to grow crop that requires moderate non-direct sunlight</div>
                <p>
                    Seeds per packet: 15 <br>
                    Price: $4.50    
                </p>
                <button style = "float:right;" class = "button">Add to Cart</button>
            </div>

        </div>



        <script>
            const app = Vue.createApp({
                data() {
                return {
                    cart: {Tomatoes:1,
                            Cucumbers: 2},
                };
                },
                methods: {
                addItem(item) {
                    if (this.cart.hasOwnProperty(item)){
                        this.cart[item] += 1
                    }else{
                        this.cart[item] = 1
                    }
                    return
                },
                removeItem() {
                    return
                }
                },
            }).mount("#buy");

            function refreshCart(){
                if (Object.keys(app.cart).length == 0){
                    toUse = "Your cart is empty!"
                }else{
                    toUse = ""
                    toUse += "<table class = 'myTable' style='text-align:center;font-size:30px' ><tr><th>Seed</th><th colspan = '3'>Quantity</th></tr>"
                    for (key in app.cart){
                        toUse += "<tr><td>" + key + "</td><td><button class ='changeQtyBtn' >-</button></td><td> " + app.cart[key] + "</td><td><button class ='changeQtyBtn' >+</button></td></tr>"
                    }
                    toUse+="</table>"
                }
                document.getElementById("miniCart").innerHTML = toUse
            }
        
        </script>

</body>
</html>